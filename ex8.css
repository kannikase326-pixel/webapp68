:root{
  --bg:#0f172a;           /* slate-900 */
  --panel:#111827;        /* gray-900 */
  --border:#1f2937;       /* gray-800 */
  --text:#e5e7eb;         /* gray-200 */
  --muted:#94a3b8;        /* slate-400 */
  --accent:#60a5fa;       /* sky-400 */
  --accent-strong:#3b82f6;/* blue-500 */
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text);
  background:radial-gradient(1200px 600px at 0% -10%, rgba(59,130,246,.22), transparent 60%),
             radial-gradient(900px 600px at 100% 0%, rgba(14,165,233,.14), transparent 60%),
             var(--bg);
}
.site-header{
  max-width:1100px; margin:40px auto 24px; padding:24px;
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,.25);
}
.site-header h1{ margin:0 0 14px; font-size:22px; color:#fff }

/* ======= MENU BAR ======= */
.menu{ position:relative }
.menu__list{
  display:flex; gap:10px; align-items:center; list-style:none; margin:0; padding:0;
}
.menu__link{
  position:relative; display:inline-flex; align-items:center; gap:.5ch;
  padding:10px 14px; border-radius:12px; text-decoration:none; color:var(--text);
  border:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.menu__link:hover, .menu__link:focus-visible{ transform:translateY(-2px); border-color:rgba(96,165,250,.35); box-shadow:0 10px 20px rgba(59,130,246,.25) }
.is-active{ border-color:rgba(96,165,250,.6); background:linear-gradient(180deg, rgba(59,130,246,.18), rgba(59,130,246,.08)) }

/* ======= POPOUT (Dropdown) ======= */
.has-popout{ position:relative }
.popout{
  position:absolute; left:0; top:calc(100% + 8px);
  min-width:220px; padding:8px; margin:0; list-style:none;
  background:var(--panel); border:1px solid var(--border); border-radius:14px;
  box-shadow:0 16px 40px rgba(0,0,0,.35);
  opacity:0; transform:translateY(-6px) scale(.98);
  pointer-events:none; /* prevent hover when hidden */
  transition: opacity .18s ease, transform .18s ease;
  z-index:20;
}
.popout__link{
  display:block; padding:10px 12px; border-radius:10px; color:var(--text); text-decoration:none;
}
.popout__link:hover, .popout__link:focus-visible{ background:rgba(59,130,246,.15); outline:none }

/* Reveal on HOVER or when focused within */
.has-popout:hover > .popout,
.has-popout:focus-within > .popout{
  opacity:1; transform:translateY(0) scale(1); pointer-events:auto;
}

/* ======= NESTED FLYOUT (to the right) ======= */
.has-nested{ position:relative }
.popout--right{ left:100%; top:0; margin-left:8px }
.has-nested:hover > .popout--right,
.has-nested:focus-within > .popout--right{ opacity:1; transform:translateY(0) scale(1); pointer-events:auto }

/* Accessibility: keep popout open while navigating with keyboard */
.has-popout:focus-within > .menu__trigger{ outline:none; box-shadow:0 0 0 3px rgba(147,197,253,.45) }

/* Content area */
.content{ max-width:1100px; margin:0 auto; padding:24px; color:var(--muted) }

/* Reduce motion when user prefers */
@media (prefers-reduced-motion: reduce){
  .menu__link, .popout{ transition:none }
}

/* Mobile tweaks */
@media (max-width:560px){
  .menu__list{ flex-wrap:wrap }
}
